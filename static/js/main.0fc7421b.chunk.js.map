{"version":3,"sources":["Signing/urlSigner.js","Components/NavigationBar.js","Requests/map-requests.js","Actions/business-actions.js","Actions/ready-actions.js","Actions/address-actions.js","Actions/zip-actions.js","Actions/state-actions.js","Reducers/selectors.js","Components/AutoCompleteBar.js","Components/LookUpForm.js","Actions/user-actions.js","Requests/city-requests.js","Actions/dataRange-actions.js","Components/DemographicsPanel.js","Actions/places-actions.js","Actions/active-actions.js","Actions/tract-actions.js","Helpers/TradeZone.js","Components/GoogleMapComponents.js","Components/UI/SliderSwitch.js","Components/Map.js","Requests/cartography-requests.js","Redux/store.js","Reducers/user-reducer.js","Reducers/address-reducer.js","Reducers/places-reducers.js","Reducers/business-reducer.js","Reducers/active-reducer.js","Reducers/zip-reducer.js","Reducers/state-reducer.js","Reducers/tract-reducer.js","Reducers/dataRange-reducer.js","Reducers/ready-reducer.js","Components/PlacesList.js","Components/App.js","Redux/serviceWorker.js","index.js","Constants.js"],"names":["Buffer","__webpack_require__","d","__webpack_exports__","sign","_Constants__WEBPACK_IMPORTED_MODULE_0__","crypto","require","url","path","code","safeEncodedString","key","data","uri","parse","safeSecret","GOOGLE_SECRET","replace","from","hashedSignature","createHmac","update","digest","format","NavigationBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","react_default","a","createElement","Navbar_default","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav_default","className","Link","NavDropdown_default","title","Item","Divider","Form_default","inline","FormControl_default","type","placeholder","Button_default","variant","React","Component","GEO_CODE","KEY","getNearby","address","callBack","token","lat","coords","lng","fetch","API","method","credentials","headers","Accept","Content-Type","then","response","get","json","catch","error","console","UPDATE_BUSINESS_TYPE","updateBusinessType","payload","business_type","UPDATE_READY","UPDATE_ADDRESS","UPDATE_ZIP","UPDATE_STATE","activeSelector","createSelector","active_place","addressSelector","businessTypeSelector","dataRangeSelector","data_range","placesSelector","places","stateSelector","tractSelector","tract","userSelector","user","zipSelector","zip","readySelector","ready","AutoCompleteBar","handleChange","setState","handleSelect","_ref","asyncToGenerator","regenerator_default","mark","_callee","number","street","city","geoCode","addressState","wrap","_context","prev","next","geocodeByAddress","results","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","address_components","Symbol","iterator","done","c","value","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","types","long_name","short_name","err","return","log","getLatLng","latLng","sent","formatted","onUpdateAddress","stop","_x","apply","arguments","bind","assertThisInitialized","dist_default","onChange","onSelect","_ref2","getInputProps","suggestions","getSuggestionItemProps","loading","assign","style","width","map","suggestion","active","backgroundColor","cursor","description","mapStateToProps","selectors","mapActionsToProps","newAddress","onUpdateBusinessType","onUpdateZip","onUpdateState","connect","LookUpForm","onUpdateUser","onFormChange","onBusinessFormChange","submitAddress","getCoords","dispatchAddress","onUpdateReady","onHandleSubmit","event","target","defineProperty","name","isReady","toString","length","callback","f_street","f_city","f_state","getGeoCode","res","geometry","location","Label","color","Components_AutoCompleteBar","Row","Group","as","Col","controlId","Control","onClick","UPDATE_USER","SHOW_ERROR","showError","getAllStats","UPDATE_DATA_RANGE","ZIP","DemographicsPanel","onUpdateDataRange","getData","val","_this2","zipStats","tradeZoneStats","social_data","summary","gender","race","education","marital_status","employment","transportation","income_data","social","income","NestedCard","key_i","Card_default","Accordion_default","Card","Header","eventKey","Body","overflowX","overflowY","Table_default","striped","bordered","hover","entries","i","orientation","textAlign","display","margin","height","padding","defaultActiveKey","population","median_age","median","males","females","UPDATE_PLACES","ACTIVATE_PLACE","updateActivePlace","place","UPDATE_TRACT","getPoints","center","distance","φ1","toRadians","λ1","R","points","brng","φ2","Math","asin","sin","cos","λ2","atan2","toDegrees","push","num","PI","renderCircle","radius","google","maps","Circle","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","renderMarker","position","icon","label","Marker","labelContent","YELLOW_MARKER","RED_MARKER","GREEN_MARKER","SliderSwitch","checked","switchFunction","htmlFor","react_switch_default","onColor","onHandleColor","handleDiameter","uncheckedIcon","checkedIcon","boxShadow","activeBoxShadow","infoWindow","InfoWindow","SimpleMap","updateMarkers","markerMap","markers","Array","img","includes","marker","set","updateInfoWindow","slicedToArray","addListener","onUpdateActivePlace","updatePlaceDetails","setContent","ReactDOMServer","renderToStaticMarkup","getInfoContent","open","getPlaceDetails","place_id","request","placeId","fields","PlacesService","getDetails","status","PlacesServiceStatus","OK","getOpen","opening_hours","is_open","updateMarker","setIcon","handleSwitch","renderCartography","clearCartography","Map","place_details","place_photos","places_cache","places_count","address_line","boundaries","cartography","display_cartography","onUpdatePlaces","onUpdateTract","lessPlaces","loadAllPlaces","loadMorePlaces","loadDefaultPlaces","exampleRef","createRef","getopen","loadCartography","checkIsCity","onPlacesCountChange","updateRadii","initCache","setInterval","getMap","isCity","prevProps","prevState","trigger","setMap","_i","_business_types","Number","B01003_001E","forEach","feature","remove","_this3","featureSet","addGeoJson","tradezone","featureSets","setTimeout","_this4","URL","getZipCartography","toLowerCase","mCartography","morePlaces","_this5","concat","has","_this6","_this7","index","hasCallback","_this8","cached_places","values","slice","loadPlaceType","_this9","details","photo_url","marginRight","marginLeft","src","formatted_address","website","rating","user_ratings_total","_this10","photos","ref","getPhoto","photo_reference","_this11","marginBottom","UI_SliderSwitch","float","lib_default","options","mapOptions","bootstrapURLKeys","GOOGLE_KEY","defaultCenter","defaultZoom","zoom","yesIWantToUseGoogleMapApiInternals","layerTypes","onGoogleApiLoaded","_ref3","yourBusinessMarker","content","apiIsLoaded","defaultProps","defaultzoom","newPlaces","allReducers","combineReducers","allStoreEnhancers","compose","applyMiddleware","thunk","store","createStore","getState","PlacesList","activatePlace","subscribe","activePlaceSelector","App","window","scrollTo","top","behavior","Components_DemographicsPanel","Components_Map","Components_PlacesList","alignItems","justifyContent","react_static_google_map_umd","size","maptype","apiKey","Components_NavigationBar","Components_LookUpForm","Boolean","hostname","match","rootElement","document","getElementById","ReactDOM","render","es","react_router_dom","basename","process","Components_App","navigator","serviceWorker","registration","unregister","streetViewControl","scaleControl","fullscreenControl","styles","featureType","elementType","stylers","visibility","gestureHandling","disableDoubleClickZoom","minZoom","maxZoom","mapTypeControl","mapTypeId","MapTypeId","ROADMAP","mapTypeControlOptions","MapTypeControlStyle","HORIZONTAL_BAR","ControlPosition","BOTTOM_CENTER","mapTypeIds","SATELLITE","HYBRID","zoomControl","clickableIcons"],"mappings":"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","file":"static/js/main.0fc7421b.chunk.js","sourcesContent":["'use strict'\nimport { GOOGLE_SECRET } from '../Constants'\nconst crypto = require('crypto');\nconst url = require('url');\n\n/**\n * Convert from 'web safe' base64 to true base64.\n *\n * @param  {string} safeEncodedString The code you want to translate\n *                                    from a web safe form.\n * @return {string}\n */\nfunction removeWebSafe(safeEncodedString) {\n  return safeEncodedString.replace(/-/g, '+').replace(/_/g, '/');\n}\n\n/**\n * Convert from true base64 to 'web safe' base64\n *\n * @param  {string} encodedString The code you want to translate to a\n *                                web safe form.\n * @return {string}\n */\nfunction makeWebSafe(encodedString) {\n  return encodedString.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n\n/**\n * Takes a base64 code and decodes it.\n *\n * @param  {string} code The encoded data.\n * @return {string}\n */\nfunction decodeBase64Hash(code) {\n  // \"new Buffer(...)\" is deprecated. Use Buffer.from if it exists.\n  return Buffer.from ? Buffer.from(code, 'base64') : new Buffer(code, 'base64');\n}\n\n/**\n * Takes a key and signs the data with it.\n *\n * @param  {string} key  Your unique secret key.\n * @param  {string} data The url to sign.\n * @return {string}\n */\nfunction encodeBase64Hash(key, data) {\n  return crypto.createHmac('sha1', key).update(data).digest('base64');\n}\n\n/**\n * Sign a URL using a secret key.\n *\n * @param  {string} path   The url you want to sign.\n * @param  {string} secret Your unique secret key.\n * @return {string}\n */\nexport function sign(path) {\n  const uri = url.parse(path);\n  const safeSecret = decodeBase64Hash(removeWebSafe(GOOGLE_SECRET));\n  const hashedSignature = makeWebSafe(encodeBase64Hash(safeSecret, uri.path));\n  return url.format(uri) + '&signature=' + hashedSignature;\n}","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar'\nimport Form from 'react-bootstrap/Form'\nimport Nav from 'react-bootstrap/Nav'\nimport NavDropdown from 'react-bootstrap/NavDropdown'\nimport FormControl from 'react-bootstrap/FormControl'\nimport Button from 'react-bootstrap/Button'\n\n\nclass NavigationBar extends React.Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {}\n    }\n\n    render() {\n        return (\n            <Navbar bg=\"light\" expand=\"lg\">\n                <Navbar.Brand href=\"#home\">Project Landmark</Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                    <Nav.Link href=\"#home\">Home</Nav.Link>\n                    <Nav.Link href=\"#link\">Link</Nav.Link>\n                    <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\n                        <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n                        <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n                        <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n                        <NavDropdown.Divider />\n                        <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\n                    </NavDropdown>\n                    </Nav>\n                    <Form inline>\n                    <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n                    <Button variant=\"outline-success\">Search</Button>\n                    </Form>\n                </Navbar.Collapse>\n            </Navbar>\n        );\n    }\n}\n\nexport default NavigationBar;\n","import { API } from '../Constants'\nconst GEO_CODE = 'https://maps.googleapis.com/maps/api/geocode/json?';\nexport const KEY = 'AIzaSyAApJlSsL7fsf9ElKRHLLOhEM2pZM00-ho';\n\n// to-do find out whether this is best done through express backen\nexport function getGeoCode(street, city, state, callback) {\n    var f_street = street.replace(/ /g, '+')\n    var f_city = city.replace(/ /g, '+')\n    var f_state = state.replace(/ /g, '+')\n    let f_address = f_street + ',' + '+'+f_city + ',' + '+'+f_state\n\n    fetch(GEO_CODE + 'address=' + f_address +'&key=' + KEY)\n        .then(response => response.json())\n        .then(data =>  callback(data));\n}\n\nexport function getNearby(address, type, callBack) {\n    const lat = address.coords.lat\n    const lng = address.coords.lng\n    var token;\n    fetch(API + 'places/nearby/' \n    + lat +'/'\n    + lng + '/' \n    + type,\n    {\n        method: 'GET',\n        credentials: \"same-origin\", //include, same-origin\n        headers: {Accept: 'application/json', 'Content-Type': 'application/json'},\n    })\n    .then(response => {\n        token = response.headers.get('Pragma')\n        return response.json()\n    })\n    .then(data => callBack(data, token))\n    .catch(error => console.error('Error:', error))\n}\n\nexport function getPages(token, callBack) {\n    if (token != null) {\n            fetch(API + 'places/pages/' + token, {\n                method: 'GET',\n                credentials: \"same-origin\", //include, same-origin\n                headers: {Accept: 'application/json', 'Content-Type': 'application/json'},\n            })\n            .then(response => {\n                token = response.headers.get('Pragma')\n                return response.json()\n            })\n            .then(data => callBack(data, token))\n            .catch(error => console.error('Error:', error))\n    }\n}\n\nexport function getPhoto(ref, width, height, callback) {\n    fetch(API + 'places/photos/' + ref + '/' + width + '/' + height,\n    {\n        method : 'GET',\n        credentials: \"same-origin\",\n        headers: {Accept: 'application/json', 'Content-Type': 'application/json'},\n    })\n    .then(response =>  response.json())\n    .then(data => callback(data))\n    .catch(error => console.error('Photo fetch error:', error))\n}\n\n","export const UPDATE_BUSINESS_TYPE = 'business_type:updateBusinessType';\n\nexport function updateBusinessType(type) {\n    return {\n      type: UPDATE_BUSINESS_TYPE,\n      payload: {\n        business_type: type\n      }\n    }\n}\n","export const UPDATE_READY = 'state:updateReady';\n\nexport function updateReady(isReady) {\n  return {\n    type: UPDATE_READY,\n    payload: {\n      ready: isReady\n    }\n  }\n}\n","export const UPDATE_ADDRESS = 'address:updateAddress';\n\nexport function updateAddress(newAddress) {\n    return {\n      type: UPDATE_ADDRESS,\n      payload: {\n        address: newAddress\n      }\n    }\n}\n","export const UPDATE_ZIP = 'zip:updateZip';\n\nexport function updateZip(zip) {\n  return {\n    type: UPDATE_ZIP,\n    payload: {\n      zip: zip\n    }\n  }\n}\n","export const UPDATE_STATE = 'state:updateState';\n\nexport function updateState(state) {\n  return {\n    type: UPDATE_STATE,\n    payload: {\n      state: state\n    }\n  }\n}\n","import { createSelector } from 'reselect';\n\nexport const activeSelector = createSelector (\n    state => state.active_place,\n    active_place => active_place\n  )\n  \nexport const addressSelector = createSelector (\n    state => state.address,\n    address => address\n  );\n  \nexport const businessTypeSelector = createSelector (\n    state => state.business_type,\n    business_type => business_type\n  );\n  \nexport const dataRangeSelector = createSelector (\n    state => state.data_range,\n    data_range => data_range\n  )\n\nexport const placesSelector = createSelector (\n    state => state.places,\n    places => places\n  )\n\nexport const stateSelector = createSelector (\n    state => state.state,\n    state => state\n  )\n\nexport const tractSelector = createSelector (\n    state => state.tract,\n    tract => tract\n  )\n\nexport const userSelector = createSelector (\n      state => state.user,\n      user => user\n  )\nexport const zipSelector = createSelector (\n    state => state.zip,\n    zip => zip\n  )\nexport const readySelector = createSelector (\n  state => state.ready,\n  ready => ready\n)","import React from 'react';\nimport PlacesAutocomplete, {\n  geocodeByAddress,\n  getLatLng,\n} from 'react-places-autocomplete';\nimport { updateAddress} from '../Actions/address-actions'\nimport { updateBusinessType} from '../Actions/business-actions'\nimport { updateZip } from '../Actions/zip-actions'\nimport { updateState } from '../Actions/state-actions'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport * as selectors from '../Reducers/selectors'\nimport { GOOGLE_KEY } from '../Constants'\n\nclass AutoCompleteBar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { address: '' };\n    this.handleChange = this.handleChange.bind(this)\n    this.onUpdateAddress = this.onUpdateAddress.bind(this)\n  }\n\n  handleChange = address => {\n    this.setState({ address });\n  };\n\n  handleSelect = async address => {\n    this.handleChange(address)\n    let zip, number, street, city, state;\n    let geoCode = await geocodeByAddress(address)\n      .then(results => { \n          for (let c of results[0].address_components) {\n              for (let type of c.types) {\n                if (type == 'street_number')\n                    number = c.long_name\n                if (type == 'route')\n                    street = c.short_name\n                if (type == 'locality')\n                    city = c.long_name\n                if (type == 'administrative_area_level_1')\n                    state = c.short_name\n                if (type == \"postal_code\") \n                    zip = c.long_name\n              }\n          }\n          console.log(results)\n          return getLatLng(results[0])\n        })\n      .then(latLng => latLng)\n      .catch(error => console.error('Error', error));\n      let addressState = {}\n      addressState.formatted = address\n      addressState.street = number + '' + street\n      addressState.city = city\n      addressState.state = state\n      addressState.zip = zip\n      addressState.coords = geoCode\n\n      this.onUpdateAddress(addressState)\n  };\n\n  onUpdateAddress(address) {\n    this.props.onUpdateAddress(address)\n}\n\n  render() {\n    return (\n      <PlacesAutocomplete\n        value={this.state.address}\n        onChange={this.handleChange}\n        onSelect={this.handleSelect}\n      >\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n          <div>\n            <input style= {{width: '100%'}}\n              {...getInputProps({\n                placeholder: 'Search Places ...',\n                className: 'location-search-input',\n              })}\n            />\n            <div className=\"autocomplete-dropdown-container\">\n              {loading && <div>Loading...</div>}\n              {suggestions.map(suggestion => {\n                const className = suggestion.active\n                  ? 'suggestion-item--active'\n                  : 'suggestion-item';\n                // inline style for demonstration purpose\n                const style = suggestion.active\n                  ? { backgroundColor: '#fafafa', cursor: 'pointer' }\n                  : { backgroundColor: '#ffffff', cursor: 'pointer' };\n                return (\n                  <div\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                  >\n                    <span>{suggestion.description}</span>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </PlacesAutocomplete>\n    );\n  }\n}\n\nconst cleanUpAddress = (address) => {\n    let split = address.split(',')\n    let cleanUp = split.map((e) => e.trim())\n    return cleanUp\n}\n\nconst mapStateToProps = createSelector(\n    selectors.addressSelector,\n    selectors.businessTypeSelector,\n    selectors.zipSelector,\n    selectors.stateSelector,\n    (address, business_type, zip, state) => ({\n        address,\n        business_type,\n        zip,\n        state\n    })\n);\n\nconst mapActionsToProps = {\n     onUpdateAddress: updateAddress,\n     onUpdateBusinessType: updateBusinessType,\n     onUpdateZip: updateZip,\n     onUpdateState: updateState\n};\n\nexport default connect(mapStateToProps, mapActionsToProps) (AutoCompleteBar);","import React from 'react';\nimport Form from 'react-bootstrap/Form'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button'\nimport '../css/App.css';\nimport {getGeoCode} from '../Requests/map-requests'\nimport { updateBusinessType} from '../Actions/business-actions'\nimport { updateReady } from '../Actions/ready-actions'\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport AutoCompleteBar from './AutoCompleteBar'\nimport * as selectors from '../Reducers/selectors'\n\nclass LookUpForm extends React.Component {\n\n    constructor(props) {\n        super(props)\n\n        this.onUpdateUser = this.onUpdateUser.bind(this);\n        this.onFormChange = this.onFormChange.bind(this);\n        this.onBusinessFormChange = this.onBusinessFormChange.bind(this);\n        this.submitAddress = this.submitAddress.bind(this);\n        this.onUpdateBusinessType = this.onUpdateBusinessType.bind(this);\n        this.getCoords = this.getCoords.bind(this);\n        this.dispatchAddress = this.dispatchAddress.bind(this);\n        this.onUpdateReady = this.onUpdateReady.bind(this)\n        this.onHandleSubmit = this.onHandleSubmit.bind(this)\n\n        this.state = {};\n    }\n\n    componentDidMount() {\n    }\n\n    onUpdateUser(event) {\n        this.props.onUpdateUser(event.target.value);\n    }\n\n    onUpdateBusinessType(business_type) {\n        this.props.onUpdateBusinessType(business_type)\n    }\n\n    onFormChange(event) {\n        this.setState({[event.target.name]: event.target.value})\n    }\n\n    onBusinessFormChange(event) {\n        this.setState({[event.target.name]: event.target.value})\n        this.onUpdateBusinessType(event.target.value)\n    }\n\n    onUpdateReady(isReady) {\n        this.props.onUpdateReady(isReady)\n    }\n\n    onHandleSubmit() {\n        if (this.props.address.toString().length > 0)\n            this.onUpdateReady(true)\n        else {\n            this.onUpdateReady(false)\n        }\n    }\n     submitAddress(event) {\n        if (this.state.street !== undefined\n            && this.state.city !== undefined\n            && this.state.state !== undefined\n            && this.state.zip !== undefined) {\n                console.log(\"Attempt submit\")\n \n                // get geocode\n                getGeoCode(this.state.street, this.state.city, this.state.state, this.getCoords)\n            }\n    }\n\n    // gets coords and adds to state \n    getCoords(data) {\n        var res = data.results\n\n        \n        if (res.length > 1) {\n            console.log(\"ERROR, Multiple Locations\")\n        }\n        //To-do handle mulitple location error or null response\n        let coords = res[0].geometry.location\n        this.setState({'coords': coords})\n\n       \n\n        // send full address to store\n        this.dispatchAddress()\n    }\n\n    dispatchAddress() {\n        if (this.state.street !== undefined\n            && this.state.city !== undefined\n            && this.state.state !== undefined\n            && this.state.zip !== undefined\n            && this.state.coords !== undefined) {\n\n                var address = {}\n                address.street = this.state.street;\n                address.city = this.state.city;\n                address.state = this.state.state;\n                address.zip = this.state.zip;\n                address.coords = this.state.coords;\n\n                // update to store\n                this.onUpdateAddress(address)\n                this.onUpdateZip(this.state.zip)\n                this.onUpdateState(this.state.state)\n            }\n    }\n\n    render() {\n       // console.log(\"Form state\", this.state)\n        return (\n            <div className=\"lookup-form-block\">\n                <br></br>\n                <Form.Label color=\"black\">Address</Form.Label>\n                <AutoCompleteBar></AutoCompleteBar>\n                <br></br>\n                <Form.Row>\n                <Form.Group as={Col} controlId=\"formGridZip\">\n                        <Form.Label>Business Type</Form.Label>\n                        <Form.Control as=\"select\" name=\"business_type\" onChange={this.onBusinessFormChange}>\n                        <option>restaurant</option>\n                        <option>bar</option>\n                        <option>cafe</option>\n                        <option>beauty_salon</option>\n                        <option>clothing_store</option>\n                        <option>convenvience_store</option>\n                        <option>locksmith</option>\n                        <option>bakery</option>\n                        <option>car_dealer</option>\n                        <option>supermarket</option>\n                    </Form.Control>\n                    </Form.Group>\n                </Form.Row>\n            <Form>\n              \n                <Button variant=\"primary\" onClick={this.onHandleSubmit} >\n                    Submit\n                </Button>\n            </Form>\n        </div>\n        );\n    }\n}\n\nconst mapStateToProps = createSelector(\n    selectors.businessTypeSelector,\n    selectors.readySelector,\n    selectors.addressSelector,\n    (business_type, ready, address) => ({\n        business_type,\n        ready,\n        address\n    })\n);\n\nconst mapActionsToProps = {\n     onUpdateBusinessType: updateBusinessType,\n     onUpdateReady: updateReady\n};\n\nexport default connect(mapStateToProps, mapActionsToProps) (LookUpForm);\n","export const UPDATE_USER = 'users:updateUser';\nexport const SHOW_ERROR = 'users:showError';\n\n\nexport function updateUser(newUser) {\n    return {\n        type: UPDATE_USER,\n        payload: {\n            user: newUser\n        }\n    }\n}\n\nexport function showError() {\n    return {\n        type: SHOW_ERROR,\n        payload: {\n            user: 'ERROR!!'}\n    }\n}\n\n","import { showError } from '../Actions/user-actions'\nimport { API } from '../Constants'\n\nexport function getAllStats(lat, lng, type) {\n    return fetch(API + 'demo/stats/' + type + '/' + lat + '/' + lng)\n        .then(res => res.json())\n        .catch(err => console.error(err))\n}\n\nexport function getPopulation(lat, lng) {\n    return fetch(API + 'demo/population/city/' + lat + '/' + lng)\n        .then(res => res.json())\n        .catch(err => console.error(err))\n}\n\nexport function getSocial(range, lat, lng, callback) {\n    fetch(API + 'demo/social/' + range + '/' + lat +'/'+ lng)\n        .then(response => response.json())\n        .then(data =>  callback(data))\n        .catch(error =>  { \n            showError()\n            console.error('Error:', error)\n        })\n}\n\nexport function getAge(range, lat, lng, callback) {\n    fetch(API + 'demo/age/' + range + '/' + lat +'/'+ lng)\n        .then(response => response.json())\n        .then(data =>  callback(data))\n        .catch(error =>  { \n            showError()\n            console.error('Error:', error)\n        })\n}\n\nexport function getIncome(range, lat, lng, callback) {\n    fetch(API + 'demo/income/' + range + '/' + lat +'/'+ lng)\n        .then(response => response.json())\n        .then(data =>  callback(data))\n        .catch(error =>  { \n            showError()\n            console.error('Error:', error)\n        })\n}\n\nexport function getTract(lat, lng, callback) {\n    fetch(API + 'demo/tract/' + lat +'/'+ lng)\n        .then(response => response.json())\n        .then(data =>  callback(data))\n        .catch(error =>  { \n            showError()\n            console.error('Error:', error)\n        })\n}\n\n","export const UPDATE_DATA_RANGE = 'data_range:updateDataRange';\n\nexport function updateDataRange(type) {\n    return {\n      type: UPDATE_DATA_RANGE,\n      payload: {\n        data_range: type\n      }\n    }\n}\n","import React, { Component } from 'react';\nimport Table from 'react-bootstrap/Table'\nimport Accordion from 'react-bootstrap/Accordion'\nimport Card from 'react-bootstrap/Card'\nimport { getAge, getIncome, getSocial, getAllStats,   } from '../Requests/city-requests' \nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport { getTradeZoneStats } from '../Requests/tradezone-requests'\nimport { updateDataRange } from '../Actions/dataRange-actions'\nexport const ZIP = 'zip code tabulation area'\nexport const TRADE_ZONE = 'tradeZone'\n\nclass DemographicsPanel extends React.Component {\n    constructor(props) {\n        super(props) \n\n        this.state = { }\n\n        this.onUpdateDataRange = this.onUpdateDataRange.bind(this)\n        this.getData = this.getData.bind(this)\n    }\n\n   onUpdateDataRange(event) {\n    let val = event.target.value\n    if (val === 'zip') {\n        this.props.onUpdateDataRange(ZIP)\n    }\n    else if (val == 'tradeZone') {\n        this.props.onUpdateDataRange(TRADE_ZONE)\n    }\n   }\n\n    async componentDidMount() {\n        await this.getData()\n    }\n\n    async getData() {\n       await getAllStats(this.props.lat, this.props.lng, 'zip').then(data => this.setState({ zipStats : data }))\n       await getAllStats(this.props.lat, this.props.lng, 'tradezone').then(data => this.setState({tradeZoneStats : data}))\n\n        /*\n        // zip\n        getSocial(ZIP, this.props.lat, this.props.lng, (data) => this.setState({socialZip : data}))\n        getAge(ZIP, this.props.lat, this.props.lng, (data) => this.setState({ageZip: data}))\n        getIncome(ZIP, this.props.lat, this.props.lng, (data) =>  this.setState({incomeZip : data}))  \n        // trade zone\n        getTradeZoneStats(this.props.lat, this.props.lng, 'social').then((data) => this.setState({socialTZ : data}))\n        getTradeZoneStats(this.props.lat, this.props.lng, 'income').then((data) => this.setState({incomeTZ : data}))\n        getTradeZoneStats(this.props.lat, this.props.lng, 'age').then((data) => this.setState({ageTZ : data}))\n        */\n    }\n    render() {\n\n        console.log(this.state)\n       \n        var social_data =  {\n            summary: {\n                gender : {},\n            },\n            \n            race : {},\n            education : {},\n            marital_status : {},\n            employment : {},\n            transportation : {}\n        }\n        var income_data = {}\n\n        if (this.props.data_range == ZIP) {\n            if (this.state.zipStats != null) {\n                social_data = this.state.zipStats.social\n                income_data = this.state.zipStats.income\n            }\n        } else if (this.props.data_range == TRADE_ZONE) {\n            if (this.state.tradeZoneStats != null) {\n                social_data = this.state.tradeZoneStats.social\n                income_data = this.state.tradeZoneStats.income\n            }\n        }\n\n        /**\n         * \n         *  if (this.props.data_range == ZIP) {\n            if (this.state.socialZip != null) \n                social_data = this.state.socialZip\n            if (this.state.incomeZip != null) \n                income_data = this.state.incomeZip\n            if (this.state.ageZip != null)\n                age_data = this.state.ageZip\n\n        } \n        else if (this.props.data_range == TRADE_ZONE) {\n            if (this.state.socialTZ != null) {\n                social_data = this.state.socialTZ\n                console.log(social_data)\n            }\n            if (this.state.incomeTZ != null) \n                income_data = this.state.incomeTZ\n            if (this.state.ageTZ != null)\n                age_data = this.state.ageTZ\n        }\n         */\n\n        const NestedCard = ({name, data, key_i}) => {\n            return (\n                <Card>\n                    <Accordion.Toggle as={Card.Header} eventKey={key_i}>\n                        {name}\n                        </Accordion.Toggle>\n                        <Accordion.Collapse eventKey={key_i} >\n                    <Card.Body>\n                        <div style={{overflowX: \"auto\", overflowY: \"auto\", width: \"100%\"}}>\n                        <Table striped bordered hover variant=\"dark\" >\n                        <tbody>\n                            {Object.entries(data).map((data, i) => {\n                                return (\n                                    <tr key={i}>\n                                        <td>{data[0]}</td><td>{data[1]}</td>\n                                    </tr>\n                                );\n                                })}\n                        </tbody>\n                        </Table>\n                        </div>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n            )\n        }\n        return (\n           <div className={this.props.orientation}>\n            <div style={{width: '100hv'}}>\n               \n            </div>\n                <br></br>\n                <div style={{ textAlign: 'center'}}>\n                    <strong>Demographics</strong>\n                  </div>\n                  <br></br>\n                  <div style = {{display: 'flex'}}>\n                  <button className='map-control_button'  onClick={this.onUpdateDataRange} value= {'zip'} style={{margin: 'auto', width: '50%', height: '10%', padding: '0'}}>\n                    Zip\n                </button>\n                <button className='map-control_button'  onClick={this.onUpdateDataRange} value = {'tradeZone'} style={{margin: 'auto', width: '50%', height: '10%', padding: '0'}}>\n                    Trade Zone\n                </button>\n                  <br></br>\n                </div>\n               <Accordion defaultActiveKey=\"0\">\n                <Card>\n                    <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n                    General\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"0\" >\n                    <Card.Body>\n                        <Table striped bordered hover variant=\"dark\" >\n                        <tbody>\n                            <tr>\n                            <td>Business</td><td>{this.props.business_type}</td>\n                             </tr><tr>\n                             <td>City</td><td>{ this.props.city}</td>\n                             </tr><tr>\n                             <td>Street</td><td>{this.props.street}</td>\n                             </tr><tr>\n                            <td>Population</td><td>{social_data.summary.population}</td>\n                                </tr><tr>\n                            <td>Median Age</td><td>{social_data.summary.median_age}</td>\n                                </tr><tr>\n                            <td>Median Household Income</td><td>{income_data.median}</td>\n                            </tr><tr>\n                            <td>Males</td><td>{social_data.summary.gender.males}</td>\n                             </tr><tr>\n                            <td>Females</td><td>{social_data.summary.gender.females}</td>\n                             </tr>\n                        </tbody>\n                        </Table>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                \n                <Card>\n                    <Accordion.Toggle as={Card.Header} eventKey=\"1\">\n                    Social\n                    </Accordion.Toggle>\n                    <Accordion.Collapse eventKey=\"1\">\n                    <Card.Body>\n                        <Accordion defaultActiveKey=\"0\">\n                        <NestedCard name={\"Race\"} data={social_data.race} key_i={\"0\"}></NestedCard>\n                        <NestedCard name={\"Education\"} data={social_data.education} key_i={\"1\"}></NestedCard>\n                        <NestedCard name={\"Employment\"} data={social_data.employment} key_i={\"2\"}></NestedCard>\n                        <NestedCard name={\"Marital Status\"} data={social_data.marital_status} key_i={\"3\"}></NestedCard>\n                        <NestedCard name={\"Transportation\"} data={social_data.transportation} key_i={\"4\"}></NestedCard>\n                        </Accordion>\n                    </Card.Body>\n                    </Accordion.Collapse>\n                </Card>\n                <NestedCard name={\"Income\"} data={income_data} key_i={\"2\"}></NestedCard>\n                </Accordion>\n           </div>\n        );\n    }\n}\n\nconst addressSelector = createSelector (\n    state => state.address,\n    address => address\n)\n\nconst tractSelector = createSelector (\n    state => state.tract,\n    tract => tract\n)\n\nconst dataRangeSelector = createSelector (\n    state => state.data_range,\n    data_range => data_range\n)\n\nconst mapStateToProps = createSelector(\n    tractSelector,\n    addressSelector,\n    dataRangeSelector,\n    (tract, address, data_range) => ({\n        tract, address, data_range\n    })\n);\n\nconst mapActionsToProps = {\n    onUpdateDataRange: updateDataRange\n};\n\nexport default connect(mapStateToProps, mapActionsToProps) (DemographicsPanel);","\nexport const UPDATE_PLACES = 'places:updatePlaces';\nconst KEY='28a04efd887ab5cf335f99aabcde1978452de2cf';\n\nexport function updatePlaces(newPlaces) {\n    return {\n      type: UPDATE_PLACES,\n      payload: {\n        places: newPlaces\n      }\n    }\n}\n","export const ACTIVATE_PLACE = 'active_place:activatePlace';\n\nexport function updateActivePlace(place) {\n  return {\n    type: ACTIVATE_PLACE,\n    payload: {\n      active_place: place\n    }\n  }\n}\n","export const UPDATE_TRACT = 'tract:updateTract';\n\nexport function updateTract(tract) {\n  return {\n    type: UPDATE_TRACT,\n    payload: {\n      tract: tract\n    }\n  }\n}\n","\n// get lat/lng of 5 points in a circle around specified center where radius = distance\n// https://www.movable-type.co.uk/scripts/latlong.html\nexport function getPoints(center, distance) {\n    let φ1 = toRadians(center.lat)\n    let λ1 = toRadians(center.lng) \n    let d = distance\n    let R = 6371 // radius of earth in KM\n    let points = []\n    let divisor = 1\n    for (let i = 0; i < divisor; i++) {\n        let brng =  toRadians((i * (360/divisor)))\n        let φ2 = Math.asin(Math.sin(φ1)*Math.cos(d/R) +\n            Math.cos(φ1)*Math.sin(d/R)*Math.cos(brng));\n        let λ2 = λ1 + Math.atan2(Math.sin(brng)*Math.sin(d/R)*Math.cos(φ1),\n            Math.cos(d/R)-Math.sin(φ1)*Math.sin(φ2));\n        let coords = {}\n        coords.lat = toDegrees(φ2)\n        coords.lng = toDegrees(λ2)\n        points.push(coords)\n    }\n    return points\n}\n\nconst toRadians = (num) =>  num * (Math.PI/180)\nconst toDegrees = (num) =>  num * (180/Math.PI)","import { google } from '../Constants.js'\nimport React, { Component } from 'react';\n\nexport const renderCircle = (radius, color, map, center) => new google.maps.Circle({\n    strokeColor: color,\n    strokeOpacity: 0.5,\n    strokeWeight: 4,\n    fillColor: \"#00ff00\",\n    fillOpacity: 0.0,\n    map,\n    center: center,\n    radius: radius\n  });\n\nexport const renderMarker = (key, position, map, title, icon, label) =>  new google.maps.Marker({\n    key: key,\n    position: position,\n    map: map,\n    title: title,\n    icon: icon,\n    labelContent : label\n  });\n\nexport function renderInfoContent(place) {\n  var details = this.state.place_details.get(place.id)\n  var photo_url = this.state.place_photos.get(place.id)\n\n  /**\n   * <ReactStreetview \n            height = '200px'\n            width = '600px'\n            apiKey={GOOGLE_KEY}\n            streetViewPanoramaOptions={streetViewPanoramaOptions}\n          />\n   */\n  return (\n  <div id=\"content\">\n    <div id=\"siteNotice\">\n    </div>\n      <h3 style={{textAlign: 'center'}}>{place.name}</h3>\n      <br></br>\n      <img style={{display: 'block',  marginRight: 'auto', marginLeft: 'auto', width: '50%'}}src={photo_url}></img> \n      <br></br>\n      <div id=\"bodyContent\">\n        <p style={{textAlign: 'center'}}><strong>{details.formatted_address}</strong></p>\n        <p><a target=\"_blank\" href={details.website}>{details.website}</a></p>\n        <p>\n          Rating: {place.rating} / 5.0\n          <br></br>\n          Total Ratings: {place.user_ratings_total}\n          <br></br>\n          Open Now: {this.getOpen(place.opening_hours)}\n        </p>\n    </div>\n  </div>\n  )\n}\n\nexport const BLUE_MARKER = 'http://maps.google.com/mapfiles/ms/icons/blue-dot.png'\nexport const YELLOW_MARKER = 'http://maps.google.com/mapfiles/ms/icons/yellow-dot.png'\nexport const RED_MARKER = 'http://maps.google.com/mapfiles/ms/icons/red-dot.png'\nexport const GREEN_MARKER = 'http://maps.google.com/mapfiles/ms/icons/green-dot.png'","import React, { Component } from \"react\";\nimport Switch from \"react-switch\";\n\nclass SliderSwitch extends Component {\n    constructor(props) {\n      super(props);\n      this.state = { checked: true };\n      this.handleChange = this.handleChange.bind(this);\n    }\n   \n    handleChange(checked) {\n      this.setState({ checked });\n      this.props.switchFunction(checked)\n    }\n   \n    render() {\n      return (\n        <label htmlFor=\"material-switch\">\n                <Switch\n                    checked={this.state.checked}\n                    onChange={this.handleChange}\n                    onColor=\"#86d3ff\"\n                    onHandleColor=\"#2693e6\"\n                    handleDiameter={30}\n                    uncheckedIcon={false}\n                    checkedIcon={false}\n                    boxShadow=\"0px 1px 5px rgba(0, 0, 0, 0.6)\"\n                    activeBoxShadow=\"0px 0px 1px 10px rgba(0, 0, 0, 0.2)\"\n                    height={20}\n                    width={48}\n                    className=\"react-switch\"\n                    id=\"material-switch\"\n                />\n        </label>\n      );\n    }\n  }\n\nexport default SliderSwitch ","import React, { Component } from 'react';\nimport GoogleMapReact from 'google-map-react';\nimport { getNearby, getPages, getPhoto } from '../Requests/map-requests' \nimport '../css/App.css';\nimport { connect } from 'react-redux'\nimport { createSelector } from 'reselect';\nimport { updatePlaces } from '../Actions/places-actions'\nimport { updateActivePlace } from '../Actions/active-actions'\nimport ReactDOMServer from 'react-dom/server';\nimport { getZipCartography, getTradeZoneCartography, getTractCartography } from '../Requests/cartography-requests'\nimport { getPopulation  } from '../Requests/city-requests' \nimport {updateTract} from '../Actions/tract-actions'\nimport Form from 'react-bootstrap/Form'\nimport { getPoints } from '../Helpers/TradeZone'\nimport { ZIP, TRADE_ZONE} from '../Components/DemographicsPanel'\nimport { mapOptions, GOOGLE_KEY, google } from '../Constants.js'\nimport { renderCircle, renderMarker, renderInfoContent, BLUE_MARKER, YELLOW_MARKER, GREEN_MARKER, RED_MARKER } from './GoogleMapComponents'\nimport { activeSelector, addressSelector, businessTypeSelector, dataRangeSelector, placesSelector, stateSelector, tractSelector, zipSelector } from '../Reducers/selectors'\nimport SliderSwitch from './UI/SliderSwitch'\n\nconst infoWindow =  new google.maps.InfoWindow()\nclass SimpleMap extends Component {\n  static defaultProps = {\n    defaultCenter: {\n      lat: 59.95,\n      lng: 30.33\n    },\n    defaultzoom: 11\n  };\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      center: this.props.center,\n      map : undefined,\n      markers : new Map(),\n      place_details : new Map(),\n      place_photos : new Map(),\n      places_cache : new Map(),\n      places_count : 20,\n      address_line : this.props.address.street + ', ' + this.props.address.city + ' ' + this.props.address.state + ', ' + this.props.address.zip,\n      boundaries : getPoints(this.props.center, 0.804),\n      cartography : {},\n      display_cartography: true,\n      business_type: this.props.business_type,\n    }  \n  \n    this.onUpdatePlaces = this.onUpdatePlaces.bind(this);\n    this.onUpdateActivePlace = this.onUpdateActivePlace.bind(this);\n    this.onUpdateTract = this.onUpdateTract.bind(this)\n    this.lessPlaces = this.lessPlaces.bind(this);\n    this.loadAllPlaces = this.loadAllPlaces.bind(this);\n    this.loadMorePlaces = this.loadMorePlaces.bind(this);\n    this.loadDefaultPlaces = this.loadDefaultPlaces.bind(this);\n    this.exampleRef = React.createRef()\n    this.updateMarkers = this.updateMarkers.bind(this)\n    this.updateMarker = this.updateMarker.bind(this)\n    this.updateInfoWindow = this.updateInfoWindow.bind(this)\n    this.getopen  = this.getOpen.bind(this)\n    this.getPlaceDetails = this.getPlaceDetails.bind(this)\n    this.updatePlaceDetails = this.updatePlaceDetails.bind(this)\n    this.onBusinessFormChange = this.onBusinessFormChange.bind(this);\n    this.loadCartography = this.loadCartography.bind(this)\n    this.renderCartography = this.renderCartography.bind(this)\n    this.getInfoContent = this.getInfoContent.bind(this)\n    this.handleSwitch = this.handleSwitch.bind(this)\n    this.clearCartography = this.clearCartography.bind(this)\n    this.checkIsCity = this.checkIsCity.bind(this)\n    this.onPlacesCountChange = this.onPlacesCountChange.bind(this)\n    this.updateRadii =this.updateRadii.bind(this)\n    this.initCache = this.initCache.bind(this)\n\n    // to-do create function updateInfoWindow\n    setInterval( () => {\n      let isBound = (infoWindow.getMap() ? true : false)\n      if (!isBound && infoWindow.marker != undefined) {\n        let img = ''\n        if (infoWindow.marker.place.types.includes(this.props.business_type)) {\n          img = RED_MARKER\n        } else {\n          img = YELLOW_MARKER\n        }\n        infoWindow.marker.marker.setIcon(img)\n      }\n    }, 500);\n  }\n\n  async componentDidMount() {\n    this.initCache()\n    this.loadDefaultPlaces()\n    let isCity = await this.checkIsCity()\n    this.setState({ isCity : isCity})\n    this.updateRadii()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // active place change\n    if (this.props.active_place !== prevProps.active_place) \n      if (this.props.active_place.toString().length > 0) {\n        this.setState({center : this.props.active_place.geometry.location})\n\n        // highlight marker on map\n        if (prevProps.active_place.toString().length > 0)\n          this.updateMarker(this.state.markers.get(prevProps.active_place.id))\n        this.state.markers.get(this.props.active_place.id).marker.setIcon(GREEN_MARKER)\n        google.maps.event.trigger(this.state.markers.get(this.props.active_place.id).marker, 'click')\n      }\n\n    // update markers \n    if (this.props.places !== prevProps.places) {\n      if (this.state.map != undefined) {\n        Array.from(this.state.markers).map((marker, i) => {\n          marker[1].marker.setMap(null)\n        })\n        this.updateMarkers(this.state.map)\n      }\n    }\n    // update geojson\n    if (this.state.map !== undefined) {\n      if (this.props.data_range !== prevProps.data_range) {\n        if (this.state.display_cartography)\n          this.renderCartography()\n      }   \n    }\n  }\n\n  initCache() {\n    let business_types = [ 'restaurant', 'establishment', 'bar', 'cafe', 'beauty_salon',\n     'clothing_store', 'convenvience_store', 'locksmith', 'bakery',\n     'car_dealer', 'supermarket']\n\n     for (let type of business_types) {\n       this.state.places_cache.set(type, new Map())\n     }\n     console.log('init cache', this.state.places_cache)\n  }\n  async checkIsCity() {\n    let data = await getPopulation(this.props.center.lat, this.props.center.lng).then(res => res)\n      .catch(err => console.error('city error', err))\n    let population = Number(data[0].B01003_001E)\n    console.log('RFM', population, population >= 1000000)\n    return population >= 1000000\n  }\n  clearCartography() {\n    this.state.map.data.forEach((feature) => {\n      this.state.map.data.remove(feature)\n    })\n  }\n  renderCartography() {\n    // clear data layer \n      this.clearCartography()\n      // render cartography\n      if (this.props.data_range == ZIP) {\n        if (this.state.cartography.zip !== undefined)\n          this.state.cartography.zip.forEach(featureSet => this.state.map.data.addGeoJson(featureSet))\n      } \n      else if (this.props.data_range == TRADE_ZONE) {\n        if (this.state.cartography.tradezone !== undefined) {\n          this.state.cartography.tradezone.forEach(featureSets => {\n            featureSets.forEach(featureSet => this.state.map.data.addGeoJson(featureSet))\n          })\n       } else {\n         setTimeout(() => this.renderCartography(), 100)\n       }\n    }\n  }\n\n  loadCartography() {\n     getZipCartography(this.props.address.state.toString().toLowerCase(), this.props.address.zip).then((data) => {\n      let mCartography = Object.assign({}, this.state.cartography)\n      mCartography.zip = data\n      this.setState({cartography : mCartography})\n      // init geojson rendering\n      this.renderCartography()\n    })\n    getTradeZoneCartography(this.props.address.state.toString().toLowerCase(), this.props.center.lat, this.props.center.lng)\n      .then((data) => {\n        let mCartography = Object.assign({}, this.state.cartography)\n        mCartography.tradezone = data\n        this.setState({ cartography : mCartography})\n      })\n  }\n    \n  async loadDefaultPlaces() {\n    console.log(this.state.places_cache)\n    let response = await getNearby(this.props.address, this.props.business_type, (data, token) => {\n      var morePlaces = this.props.places.concat(data)\n      this.setState({places: morePlaces})\n      for (let place of morePlaces) {\n        if (!this.state.places_cache.get(this.state.business_type).has(place.place_id)) {\n          this.state.places_cache.get(this.state.business_type).set(place.place_id, place)\n        } \n      }\n      this.setState({token: token}, () => {\n        this.onUpdatePlaces(data)\n      })\n      this.setState({ places_count : 20 })\n    })  \n  }\n\n  loadPlaceType(type) {\n    getNearby(this.props.address, type, (data, token) => {\n      var morePlaces = this.props.places.concat(data)\n      this.setState({places: morePlaces})\n      this.setState({token: token}, () => {\n        this.onUpdatePlaces(data)\n      })\n    })\n  }\n\n  loadAllPlaces() {\n    getNearby(this.props.address, 'establishment', (data, token) => {\n      var morePlaces = this.props.places.concat(data)\n      this.setState({places: morePlaces})\n      this.setState({ places_count : 20 })\n      this.setState({token: token}, () => {\n        this.onUpdatePlaces(data)\n      })\n    })\n  }\n\n  loadMorePlaces(index, hasCallback, callback) {\n        let cached_places = Array.from(this.state.places_cache.get(this.state.business_type).values())\n        if (cached_places.length > index) {\n          console.log('pull from cache', index, cached_places.length)\n          var morePlaces = this.props.places.concat(cached_places.slice(index, index + 20))\n          this.setState({places: morePlaces}, () => {\n            this.onUpdatePlaces(morePlaces)\n            if (hasCallback) { callback() }\n          })\n        } else {\n          console.log('load more',index, cached_places.length)\n        getPages(this.state.token, (data, token) => {\n          this.setState({ token : token })\n        var morePlaces = this.props.places.concat(data)\n        for (let place of morePlaces) {\n          if (!this.state.places_cache.get(this.state.business_type).has(place.place_id)) {\n            this.state.places_cache.get(this.state.business_type).set(place.place_id, place)\n          } \n        }\n        this.setState({places: morePlaces}, () => {\n          this.onUpdatePlaces(morePlaces)\n          if (hasCallback) { callback() }\n        })\n      })\n    }\n  }\n  lessPlaces() {\n    if (this.props.places.length > 20) {\n      var places = this.props.places\n      places = places.slice(0, (places.length-20))\n      this.setState({places: places})\n      this.onUpdatePlaces(places)\n    }\n  }\n  onBusinessFormChange(event) {\n    this.setState({ places_count : 20 })\n    this.setState({[event.target.name]: event.target.value})\n    this.loadPlaceType(event.target.value)\n  }\n  // to do clean up & cache ffs\n  onPlacesCountChange(event) {\n    this.setState({places_count: event.target.value})\n      switch (event.target.value) {\n        case '20':\n            var places = this.props.places\n            places = places.slice(0, 20)\n            this.setState({places: places})\n            this.onUpdatePlaces(places)\n            break;\n\n        case '40':\n            if (this.props.places.length < 40) {\n              this.loadMorePlaces(20, false)\n            } else {\n              var places = this.props.places\n              places = places.slice(0, 40)\n              this.setState({places: places})\n              this.onUpdatePlaces(places)\n            }\n            break;\n\n        case '60':\n            if (this.props.places.length < 40) {\n              this.loadMorePlaces(20, true, ()=> this.loadMorePlaces(40, false))\n              \n            } else if (this.state.places.length == 40) {\n              this.loadMorePlaces(40, false)\n            }\n            else {\n              var places = this.props.places\n              places = places.slice(0, 60)\n              this.setState({places: places})\n              this.onUpdatePlaces(places)\n            }\n            break;\n      }\n  }\n  onUpdatePlaces(data) {\n    this.props.onUpdatePlaces(data)\n  }\n  onUpdateActivePlace(data) {\n    this.props.onUpdateActivePlace(data)\n  }\n  onUpdateTract(data) {\n    this.props.onUpdateTract(data)\n  }\n  getInfoContent(place) {\n   return renderInfoContent.apply(this, [place])\n  }\n\n  updateRadii() {\n    // radii\n    if (this.state.isCity != undefined) {\n      console.log('RFM', this.state.isCity)\n      if (this.state.isCity) {\n        //  0.220 : 0.402);\n         const circle1 = renderCircle(402, \"#00ff00\", this.state.map, this.state.center) //0.0125 miles\n         const circle2 = renderCircle(804, \"#ffff00\", this.state.map, this.state.center) // 0.25 miles\n          // to-do cleanup, add label\n        let points = getPoints(this.state.center, 0.402)\n        renderMarker('circle1', points[0], this.state.map, '0.25 miles', GREEN_MARKER)\n        points = getPoints(this.state.center, 0.804)\n        renderMarker('circle1', points[0], this.state.map, '0.5 miles', YELLOW_MARKER)\n\n      } else if (!this.state.isCity) {\n       const circle1 = renderCircle(4828, \"#00ff00\", this.state.map, this.state.center) // 3 miles\n       const circle2 = renderCircle(8046, \"#ffff00\", this.state.map, this.state.center) // 5 miles\n       // to-do cleanup, add label\n        let points = getPoints(this.state.center, 4.828)\n        let marker1 = renderMarker('circle1', points[0], this.state.map, '3 miles', GREEN_MARKER)\n        points = getPoints(this.state.center, 8.046)\n        renderMarker('circle1', points[0], this.state.map, '5 miles', YELLOW_MARKER)\n      }\n    }\n  }\n    \n   // markers\n  updateMarkers = (map) =>  {\n    let markerMap = this.state.markers\n    let count = 0;\n    Array.from(this.props.places).map((place, i) => {\n    var id= place.id\n    var img = ''\n    if (id === this.props.active_place.id) {\n      img = GREEN_MARKER\n    } else if (place.types.includes(this.props.business_type)) {\n      img = RED_MARKER\n    } else {\n      img = YELLOW_MARKER\n    }\n    count += 1\n    let marker = renderMarker(i, place.geometry.location, map, place.name, img)\n    markerMap.set(id, {marker: marker, place: place})\n  })\n  this.setState({ markers : markerMap})\n  this.updateInfoWindow(map)\n}\n// Array.from(p, ([key, value]) => value * value)\nupdateInfoWindow = (map) => Array.from(this.state.markers, ([key, value]) =>  {\n\n  // to close window on exit\n  value.marker.addListener('click',  () => {\n       this.onUpdateActivePlace(value.place)\n        this.updatePlaceDetails( () => {\n          infoWindow.setContent(ReactDOMServer.renderToStaticMarkup(this.getInfoContent(value.place)))\n          infoWindow.marker = value\n          infoWindow.open(map, value.marker) \n        });\n       })\n})\n\nupdatePlaceDetails(callback) {\n\n  // get details\n  if (!this.state.place_details.has(this.props.active_place.id)) {\n    this.getPlaceDetails(this.state.map, this.props.active_place.place_id, (details) => {\n      this.state.place_details.set(this.props.active_place.id, details)\n\n         // get photo\n    if (!this.state.place_photos.has(this.props.active_place.id)) {\n      if (this.props.active_place.photos !== undefined) {\n       getPhoto(this.props.active_place.photos[0].photo_reference, 400, 400, (data) => {\n        this.state.place_photos.set(this.props.active_place.id, data.url)\n        callback()\n      })\n      } else {\n        callback()\n      }\n    }\n    })\n  } else {\n    callback()\n  }\n}\n\ngetPlaceDetails = (map, place_id, callback) => {\n  var service = new google.maps.places.PlacesService(map);\n  var request = {\n    placeId: place_id,\n  //  fields: ['name', 'formatted_address', 'place_id', 'geometry']\n    fields: ['formatted_address', 'opening_hours', 'website']\n  };\n  \n     // get details\n    service.getDetails(request, (place, status) => {\n      if (status === google.maps.places.PlacesServiceStatus.OK) {\n        callback(place)\n      } else {\n        console.log('error', status)\n      }\n    });\n  }\n\ngetOpen = (opening_hours) => {\n  if (opening_hours === undefined)\n    return 'Unknown'\n  else {\n    let answer = (opening_hours.is_open) ? \"Yes\" : \"No\"\n    return answer\n  }\n}\nupdateMarker = (marker) => {\n  var img = ''\n  if (marker.place.id === this.props.active_place.id) {\n    img = GREEN_MARKER\n  } else if (marker.place.types.includes(this.props.business_type)) {\n    img = RED_MARKER\n  } else {\n    img = YELLOW_MARKER\n  }\n  marker.marker.setIcon(img)\n}\n\nhandleSwitch = (checked) => {\n  if (checked) {\n   // this.setState({ display_cartography : true })\n    this.renderCartography()\n  } else {\n  //  this.setState({ display_cartography : false })\n    this.clearCartography()\n  }\n}\n\n  render() {\n    const apiIsLoaded = (map, maps, center) => {\n      this.state.map = map\n      let yourBusinessMarker = renderMarker(undefined, center, map, 'Your Business', BLUE_MARKER)\n      var content ='<h3>Your ' + this.props.business_type.toString() +'</h3>'\n         yourBusinessMarker.addListener('click', () => {\n          infoWindow.setContent(content)\n          infoWindow.open(map, yourBusinessMarker)\n          infoWindow.marker = yourBusinessMarker\n         console.log(infoWindow)\n      })\n\n      this.loadCartography()\n    };\n\n  const MapButtons = () => \n  <div className='map-control_bar'>\n    \n         <div style = {{ marginLeft: '5%'}}>\n          <p style={{textAlign: 'center', marginBottom: '-3%'}}> Zone</p>\n         <SliderSwitch switchFunction={this.handleSwitch}></SliderSwitch>\n         </div>\n         <div style = {{ marginLeft: '5%'}}>\n          <p style={{textAlign: 'center', marginBottom: '0%'}}> Business Type</p>\n         <Form.Control textAlign={'center'} value={this.state.business_type} as=\"select\" name=\"business_type\" onChange={this.onBusinessFormChange} style={{width: '200px', textAlign: 'center', display: 'inline', marginLeft: '75px', marginRight: '75px'}}>\n                        <option>restaurant</option>\n                        <option>establishment</option>\n                        <option>bar</option>\n                        <option>cafe</option>\n                        <option>beauty_salon</option>\n                        <option>clothing_store</option>\n                        <option>convenvience_store</option>\n                        <option>locksmith</option>\n                        <option>bakery</option>\n                        <option>car_dealer</option>\n                        <option>supermarket</option>\n          </Form.Control>\n          </div>\n         \n          <div style = {{ marginLeft: '5%'}}>\n          <p style={{textAlign: 'center', marginBottom: '0%'}}> Results</p>\n          <Form.Control textAlign={'center'} value={this.state.places_count} as=\"select\" name=\"places_count\" onChange={this.onPlacesCountChange} style={{width: '100px', textAlign: 'center', display: 'inline', float: 'right'}}>\n                        <option>20</option>\n                        <option>40</option>\n                        <option>60</option>\n          </Form.Control>\n          </div>\n         </div>\n \n    return (\n      // Important! Always set the container height explicitly\n      // to-do export styling to .css \n      <div className='map_container'>\n         <MapButtons></MapButtons>\n        \n      <div style={{height: this.props.height}}>\n        <GoogleMapReact\n          options={mapOptions}\n          bootstrapURLKeys={{ key: GOOGLE_KEY}}\n          defaultCenter={this.props.center}\n          defaultZoom={this.props.zoom}\n          center={this.state.center}\n          yesIWantToUseGoogleMapApiInternals={true}\n          layerTypes={['TrafficLayer', 'TransitLayer']}\n          id={'map'}\n          onGoogleApiLoaded={({ map, maps }) => apiIsLoaded(map, maps, this.state.center)}\n        >\n        </GoogleMapReact>\n      </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = createSelector(\n  placesSelector, \n  activeSelector,\n  addressSelector,\n  businessTypeSelector,\n  zipSelector,\n  stateSelector,\n  tractSelector,\n  dataRangeSelector,\n  (places, active_place, address, business_type, zip, state, tract, data_range) => ({\n    places, \n    active_place,\n    address,\n    business_type,\n    zip,\n    state, \n    tract,\n    data_range\n  })\n);\n \nconst mapActionsToProps = {\n  onUpdatePlaces: updatePlaces,\n  onUpdateActivePlace: updateActivePlace,\n  onUpdateTract: updateTract\n};\n\nexport default connect(mapStateToProps, mapActionsToProps) (SimpleMap);","import { showError } from '../Actions/user-actions'\nimport { API } from '../Constants'\n\nexport function getZipCartography(state, zip) {\n    let URL = API +'cart/zip/' + state +'/'+ zip\n    console.log(URL)\n    return fetch(URL)\n        .then(response => response.json())\n        .catch(error =>  { \n            showError()\n            console.error('Zip Cartography Error:',API +'cartography/zip/' + state +'/'+ zip,  error)\n        })\n}\n\nexport function getTradeZoneCartography(state, lat, lng) {\n    return fetch(API + 'cart/tradezone/' + state + '/' +  lat + '/' + lng)\n        .then(response => response.json())\n        .catch(error => {\n            showError()\n            console.error('Trade Zone Cartography Error:', API + 'zcartography/tradezone/' + state +'/' + lat + '/' + lng, error)\n        })\n}\n\nexport function getTractCartography(state, tract) {\n    return fetch(API +'cart/tract/' + state +'/'+ tract)\n        .then(response => response.json())\n        .catch(error =>  { \n            showError()\n            console.error('Tract Cartograhpy Error:', error)\n        })\n}\n\n\n","\nimport { applyMiddleware, compose, createStore, combineReducers} from 'redux';\nimport userReducer from '../Reducers/user-reducer'\nimport addressReducer from '../Reducers/address-reducer'\nimport placesReducer from '../Reducers/places-reducers'\nimport activeReducer from '../Reducers/active-reducer'\nimport thunk from 'redux-thunk';\nimport businessReducer from '../Reducers/business-reducer';\nimport zipReducer from '../Reducers/zip-reducer';\nimport stateReducer from '../Reducers/state-reducer'\nimport tractReducer from '../Reducers/tract-reducer'\nimport dataRangeReducer from '../Reducers/dataRange-reducer'\nimport readyReducer from '../Reducers/ready-reducer'\nimport { ZIP, TRADE_ZONE} from  '../Components/DemographicsPanel'\n\nconst allReducers = combineReducers({\n    user: userReducer,\n    address: addressReducer,\n    places: placesReducer,\n    business_type: businessReducer,\n    active_place: activeReducer,\n    zip: zipReducer,\n    state: stateReducer,\n    tract: tractReducer,\n    data_range: dataRangeReducer,\n    ready: readyReducer\n});\n\nconst allStoreEnhancers = compose(\n    applyMiddleware(thunk),\n //   window.devToolsExtension && window.devToolsExtension()\n);\n\nconst store = createStore(\n    allReducers, \n    {\n    user: 'Rob',\n    address: undefined,\n    places: [],\n    business_type: 'restaurant',\n    active_place: undefined,\n    state: undefined,\n    zip: undefined,\n    tract: undefined,\n    data_range: ZIP,\n    ready: false\n    },\n   \n    allStoreEnhancers\n    );\n\nconsole.log(\"store init state: \", store.getState())\n\nexport default store;","import { UPDATE_USER, SHOW_ERROR } from '../Actions/user-actions';\n\nexport default function userReducer(state = '', {type, payload}) {\n    switch (type) {\n        case UPDATE_USER:\n                console.log(\"payload\", payload)\n            return payload.user;\n        case SHOW_ERROR:\n            return payload.user;\n        default:\n            return state;\n    }\n}","import { UPDATE_ADDRESS } from '../Actions/address-actions';\n\nexport default function addressReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_ADDRESS:\n            return payload.address;\n        default:\n            return state;\n    }\n}","import { UPDATE_PLACES } from '../Actions/places-actions';\n\nexport default function placesReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_PLACES:\n            return payload.places;\n        default:\n            return state;\n    }\n}","import { UPDATE_BUSINESS_TYPE } from '../Actions/business-actions';\n\nexport default function businessReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_BUSINESS_TYPE:\n            return payload.business_type;\n        default:\n            return state;\n    }\n}\n","import { ACTIVATE_PLACE } from '../Actions/active-actions';\n\nexport default function activeReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case ACTIVATE_PLACE:\n            return payload.active_place;\n        default:\n            return state;\n    }\n}\n\n","import { UPDATE_ZIP } from '../Actions/zip-actions';\n\nexport default function zipReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_ZIP:\n            return payload.zip;\n        default:\n            return state;\n    }\n}","import { UPDATE_STATE } from '../Actions/state-actions';\n\nexport default function stateReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_STATE:\n            return payload.state;\n        default:\n            return state;\n    }\n}","import { UPDATE_TRACT } from '../Actions/tract-actions';\n\nexport default function tractReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_TRACT:\n            return payload.tract;\n        default:\n            return state;\n    }\n}","import { UPDATE_DATA_RANGE } from '../Actions/dataRange-actions';\n\nexport default function dataRangeReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_DATA_RANGE:\n            return payload.data_range;\n        default:\n            return state;\n    }\n}\n","import { UPDATE_READY } from '../Actions/ready-actions';\n\nexport default function readyReducer(state = '', {type, payload}) {\n    \n    switch (type) {\n       \n        case UPDATE_READY:\n            return payload.ready;\n        default:\n            return state;\n    }\n}\n\n","import { connect } from 'react-redux'\nimport React from 'react'; \nimport Table from 'react-bootstrap/Table'\nimport store from '../Redux/store'\nimport { createSelector } from 'reselect';\nimport { updateActivePlace } from '../Actions/active-actions';\n\nclass PlacesList extends React.Component {\n\n  constructor(props) {\n    super(props)\n    \n    this.state = store.getState()\n    this.onUpdateActivePlace = this.onUpdateActivePlace.bind(this)\n    this.activatePlace = this.activatePlace.bind(this)\n\n    // listen to store\n    store.subscribe(() => {\n      this.setState(store.getState())\n    });\n  }\n\n  onUpdateActivePlace(data) {\n    this.props.onUpdateActivePlace(data)\n  }\n\n  activatePlace(event) {\n    console.log('click')\n    this.onUpdateActivePlace(event.target.value)\n  }\n  render() {\n    let places\n    if (this.props.places !== undefined) {\n       places = this.props.places.map((place, i) => {\n        return (\n          <tr\n            key={i}\n            onClick={() =>  this.onUpdateActivePlace(place)}\n          >\n            <td>{i+1}</td>\n            <td>{place.name}</td>\n            <td>{<img src={place.icon}style={{width: '32px', height: '32px'}} ></img>}</td>\n          </tr>\n        );\n      })\n    } else {\n       places = <div></div>\n    }\n\n    return (\n      <div className='places-list'>\n      <br></br>\n      <p style={{textAlign: 'center'}} ><strong>Nearby Businesses</strong></p>\n      <Table striped bordered hover variant=\"dark\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n          </tr>\n        </thead>\n        <tbody>\n          {places}\n          </tbody>\n        </Table>\n        </div>);\n    }\n}\n\nconst activePlaceSelector = createSelector (\n  state => state.active_place,\n  active_place => active_place\n)\n\nconst placesSelector = createSelector (\n  state => state.places,\n  places => places\n)\n\nconst mapStateToProps = createSelector(\n  activePlaceSelector, placesSelector,\n  (active_place, places) => ({\n    active_place,\n    places\n  })\n);\n \nconst mapActionsToProps = {\n  onUpdateActivePlace: updateActivePlace\n};\n\n\nexport default connect(mapStateToProps, mapActionsToProps)(PlacesList);","import React from 'react'\nimport '../css/App.css'\nimport NavigationBar from './NavigationBar'\nimport LookUpForm from './LookUpForm'\nimport DemographicsPanel from './DemographicsPanel'\nimport { connect } from 'react-redux'\nimport SimpleMap from './Map'\nimport PlacesList from './PlacesList'\nimport * as selectors from '../Reducers/selectors'\nimport ReactStreetview from 'react-streetview';\nimport { StaticGoogleMap, Marker} from 'react-static-google-map';\nimport { createSelector } from 'reselect';\nimport { GOOGLE_KEY } from '../Constants'\nimport { sign } from '../Signing/urlSigner'\n\nclass App extends React.Component { \n\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    console.log(\"store\", this.props)\n  \n    window.scrollTo({ top: 0, behavior: 'smooth' })\n\n    if (this.props.ready) {\n\n      console.log('sign',  this.props.address.coords.lat.toString(),  this.props.address.coords.lng.toString(),  '/maps/api/streetview?size=600x200'\n      + '&location=' + this.props.address.coords.lat.toString()+ ',' + this.props.address.coords.lng.toString()\n      + '&heading=151.78&pitch=-0.76&key=' + GOOGLE_KEY)\n\n      const streetViewPanoramaOptions = {\n        position: this.props.address.coords,\n        pov: {heading: 0, pitch: 0},\n        zoom: 1\n      };\n\n      var map = \n      <div>\n      <div className=\"results-container\">\n        <DemographicsPanel \n          business_type={this.props.business_type} \n          street = {this.props.address.street}\n          city = {this.props.address.city}\n          state = {this.props.address.state}\n          zip = {this.props.address.zip}\n          lat = {this.props.address.coords.lat}\n          lng = {this.props.address.coords.lng}\n          orientation = {\"demographics-list-vertical \"}>\n        </DemographicsPanel>\n       \n       <SimpleMap height={'75vh'} address={this.props.address} center={this.props.address.coords} zoom={15} business_type={this.props.business_type}/>\n       \n       <PlacesList></PlacesList>\n      </div>\n      <div style={{display: 'flex',  alignItems: 'center', justifyContent: 'center'}}>\n        <StaticGoogleMap size=\"600x200\"  \n          maptype='satellite' \n          zoom = '18'\n           apiKey={GOOGLE_KEY}>\n            <Marker.Group label=\"You\" color=\"brown\">\n              <Marker location={this.props.address.coords}/>\n            </Marker.Group>\n          </StaticGoogleMap>\n          <img src= {'https://maps.googleapis.com' \n            + sign('/maps/api/streetview?size=600x200'\n            + '&location=' + this.props.address.coords.lat.toString()+ ',' + this.props.address.coords.lng.toString()\n            + '&heading=0&pitch=0&sensor=false&key=' + GOOGLE_KEY)}/>\n        </div>\n    </div>\n\n      var mapTest = \n      <div>\n      <div className=\"results-container\">\n        <DemographicsPanel \n          business_type={this.props.business_type} \n          street = {this.props.address.street}\n          city = {this.props.address.city}\n          state = {this.props.address.state}\n          zip = {this.props.address.zip}\n          lat = {this.props.address.coords.lat}\n          lng = {this.props.address.coords.lng}\n          orientation = {\"demographics-list-vertical \"}>\n        </DemographicsPanel>\n        <div style={{  width: \"80%\", backgroundColor : 'black', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>\n          <div style={{ margin: 'auto'}}>\n        <StaticGoogleMap size=\"2200x800\"  \n          maptype='satellite' \n          zoom = '18'\n           apiKey={GOOGLE_KEY}>\n            <Marker.Group label=\"You\" color=\"brown\">\n              <Marker location={this.props.address.coords}/>\n            </Marker.Group>\n          </StaticGoogleMap>\n          </div>\n          </div>\n       <PlacesList></PlacesList>\n      </div>\n      <div style={{display: 'flex',  alignItems: 'center', justifyContent: 'center'}}>\n        \n          <div style={{ width: '20%', height: '10%'}}>\n       <SimpleMap height={'25vh'} address={this.props.address} center={this.props.address.coords} zoom={15} business_type={this.props.business_type}/>\n       </div>\n          \n        </div>\n    </div>\n      var panel = \n       <div>\n        <br></br>\n          <DemographicsPanel \n            business_type={this.props.business_type} \n            street = {this.props.address.street}\n            city = {this.props.address.city}\n            state = {this.props.address.state}\n            zip = {this.props.address.zip}\n            lat = {this.props.address.coords.lat}\n            lng = {this.props.address.coords.lng}\n            orientation = {\"demographics-list-horizontal\"}>\n          </DemographicsPanel>\n        </div>\n    }\n    return (\n      <div>\n        <NavigationBar/>\n        {map}\n        <div className=\"App\">\n        <header className=\"App-header\">\n          <LookUpForm/>\n        </header>\n      </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = createSelector(\n  selectors.userSelector,\n  selectors.addressSelector,\n  selectors.businessTypeSelector,\n  selectors.readySelector,\n  (user, address, business_type, ready) => ({\n      user,\n      address,\n      business_type,\n      ready\n  })\n)\n\n\nexport default connect(mapStateToProps) (App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/index.css';\nimport App from './Components/App';\nimport * as serviceWorker from './Redux/serviceWorker';\nimport { Provider } from 'react-redux'\nimport store from './Redux/store'\nimport { BrowserRouter as Router } from 'react-router-dom';\n\n\nconst rootElement = document.getElementById('root')\nReactDOM.render(\n    <Provider store={store}>\n    <Router basename={process.env.PUBLIC_URL}>< App /></Router>\n    </Provider>,\n     rootElement\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"," export const API =  'https://landmark-backend-252701.appspot.com/'\n //export const API = 'http://localhost:8080/';\n\n export const GOOGLE_KEY = 'AIzaSyDc1QhQx9sfS2E-ZdM0cDQuVtM_NlQhdSU'; \n export const google = window.google;\n export const GOOGLE_SECRET = 'lpkXmFKRjuqOM9YXgLIrGRlPWIA=';\n\n export const mapOptions =  {\n    streetViewControl: true,\n    scaleControl: true,\n    fullscreenControl: false,\n    styles: [{\n        featureType: \"poi.business\",\n        elementType: \"labels\",\n        stylers: [{\n            visibility: \"off\"\n        }]\n    }],\n    gestureHandling: \"greedy\",\n    disableDoubleClickZoom: true,\n    minZoom: 5,\n    maxZoom: 100,\n\n    mapTypeControl: true,\n    mapTypeId: google.maps.MapTypeId.ROADMAP,\n    mapTypeControlOptions: {\n        style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,\n        position: google.maps.ControlPosition.BOTTOM_CENTER,\n        mapTypeIds: [\n          google.maps.MapTypeId.ROADMAP,\n          google.maps.MapTypeId.SATELLITE,\n          google.maps.MapTypeId.HYBRID\n        ]\n    },\n    zoomControl: true,\n    clickableIcons: false\n};"],"sourceRoot":""}